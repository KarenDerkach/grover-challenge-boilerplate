datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model Product {
  id            String          @id @default(uuid())
  slug          String
  title         String
  coreAttribute String
  image         String
  rentalPlans   RentalPlan[]
  subscriptions Subscription[]
}

model RentalPlan {
  id        String   @id @default(uuid())
  period    Int
  price     Int
  productId String
  product   Product  @relation(fields: [productId], references: [id])
}

model Subscription {
  id                 String   @id @default(uuid())
  referenceId        String
  createdAt          DateTime @default(now())
  activatedAt        DateTime?
  activeUntil        DateTime?
  terminatedAt       DateTime?
  rentalPeriod       Int
  monthlyPrice       Int
  state              String
  productId          String
  product            Product  @relation(fields: [productId], references: [id])
}